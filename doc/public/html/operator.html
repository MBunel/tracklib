

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Operation classes for manipulating &mdash; TrackLib 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Simplification of GPS tracks" href="simplify.html" />
    <link rel="prev" title="Loading GPS data" href="loading.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TrackLib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="coreconcept.html">Core concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading.html">Loading GPS data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Operation classes for manipulating</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#operators-statement-syntax">Operators statement syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions-examples">Functions examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unary-operator">Unary operator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#slope">Slope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#turning-function-sinuosity">Turning function, sinuosity ?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simplify.html">Simplification of GPS tracks</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html">Interpolation and smoothing functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="summarize.html">Summarize GPS information into a grid</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TrackLib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Operation classes for manipulating</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/operator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="operation-classes-for-manipulating">
<h1>Operation classes for manipulating<a class="headerlink" href="#operation-classes-for-manipulating" title="Permalink to this headline">¶</a></h1>
<p>is a high-level computational language used for performing cartographic spatial analysis using raster da</p>
<p>La librairie tracklib propose une multitude d’opérateurs et de fonctions (containing operators and functions) (math-like expressions) with points of track.
qui permettent de simplifier au maximum la création d’analytical features sur une trace.
Les opérateurs opèrent aussi bien sur les coordonnées que sur le timestamp de la trace. Il est aussi possible de se créer son propore opérateur.
Les opérations sur les points sont fournies et leur appel évite les parcours des points de la trace.</p>
<p>Ces opérateurs retournent aussi bien une valeur qu’un attribut de la trace ou un attribut du point</p>
<p>Map Algebra operators, which are relational, Boolean, logical, combinatorial, and bitwise,
work with one or more inputs to develop new values. Functions perform specialized tasks, such as computing slope from elevation,
and they usually return numeric values.</p>
<p>You don’t have to be a programmer to know how to use operators and functions effectively, you just have to be taught how to use them</p>
<div class="section" id="operators-statement-syntax">
<h2>Operators statement syntax<a class="headerlink" href="#operators-statement-syntax" title="Permalink to this headline">¶</a></h2>
<p>Pour créer un nouvel opérateur:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>class &lt;nom_operateur&gt;(&lt;type_operateur&gt;):

        def execute(self, track, af_input, kernel, af_output):
        temp = [0]*track.size()
        track.createAnalyticalFeature(af_output)
        utils.addListToAF(track, af_output, temp)
        return temp
</pre></div>
</div>
<p>Depends on what you want to create, <strong>type_operateur</strong> will specify your choice.</p>
<p>If you want a raster where your goodslope areas are “1” and the rest are NoData, Con is a good way to go about it:</p>
<p>I’m trying to create a new raster from an existing slope raster where slopes are between 5 and 20 degrees. However, I’m receiving the error “ValueError: The truth value of a raster is ambiguous. Invalid use of raster with Boolean operator or function. Check the use of parentheses where applicable.”</p>
<p>It’s obvious it just has to do with my Map Algebra syntax, but I can’t figure it out. Here’s a snippet of my code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">slope</span> <span class="o">=</span> <span class="n">Slope</span><span class="p">(</span><span class="s2">&quot;elevation&quot;</span><span class="p">)</span> <span class="c1"># elevation is the name of a raster!</span>
<span class="n">goodslope</span> <span class="o">=</span> <span class="n">Con</span><span class="p">((</span><span class="n">slope</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">slope</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">goodslope</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;Final&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="functions-examples">
<h2>Functions examples<a class="headerlink" href="#functions-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="unary-operator">
<h3>Unary operator<a class="headerlink" href="#unary-operator" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>SUM : Sum operator (y = sum(x))</p></li>
<li><p>AVERAGER: Average operator (y = mean(x))</p></li>
<li><p>VARIANCE: (y = Var(x))</p></li>
<li><p>STDDEV = StdDev()                                                      # y = sqrt(Var(x))</p></li>
<li><p>MSE = Mse()                                                                    # y = mean(x**2)</p></li>
<li><p>RMSE = Rmse()                                                          # y = sqrt(mean(x**2))</p></li>
<li><p>MAD = Mad()                                                                    # y = median(<a href="#id1"><span class="problematic" id="id2">|x|</span></a>)</p></li>
<li><p>MIN = Min()                                                                    # y = min(x)</p></li>
<li><p>MAX = Max()                                                                    # y = max(x)</p></li>
<li><p>MEDIAN = Median()                                                      # y = median(x)</p></li>
<li><p>ARGMIN = Argmin()                                                      # y = min {t | x(t) = min(x)}</p></li>
<li><p>ARGMAX = Argmax()                                                      # y = min {t | x(t) = max(x)}</p></li>
<li><p>ZEROS = Zeros()                                                                # y = {t | x(t) = 0}</p></li>
</ul>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="slope">
<h3>Slope<a class="headerlink" href="#slope" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="turning-function-sinuosity">
<h3>Turning function, sinuosity ?<a class="headerlink" href="#turning-function-sinuosity" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="simplify.html" class="btn btn-neutral float-right" title="Simplification of GPS tracks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="loading.html" class="btn btn-neutral float-left" title="Loading GPS data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Yann Méneroux, Marie-Dominique Van Damme

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>